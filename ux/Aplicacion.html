<!-- ---------------------------------------------------- -->
<!-- ---------------------------------------------------- -->
<!DOCTYPE html>
<html>

<!-- ---------------------------------------------------- -->
<!-- ---------------------------------------------------- -->
<head>
<meta charset="utf-8"/>         

<!-- ---------------------------------------------------- -->
<script src="logicaFake/llamar.js"></script>
<script src="logicaFake/prueba.js"></script>
<script src="logicaFake/insertarPersona.js"></script>
<script src="logicaFake/buscarPersonaConDNI.js"></script>

<!-- ---------------------------------------------------- -->
<script>
function llamarAPruebaPulsado() {

// llamo a la función de la lógica (versión fake)
prueba( function( err, res ) {
  if ( err ) {
   alert( "hubo un problema llamando a prueba" )
   return
  }

  alert( "prueba() ha respondido: " + res )

  document.getElementById("salida").innerHTML = res
})

}
</script>

<!-- ---------------------------------------------------- -->
<script>
function insertarPersonaPulsado() {

var dni = document.getElementById("dni").value
var nombre = document.getElementById("nombre").value
var apellidos = document.getElementById("apellidos").value

// llamo a la función de la lógica (versión fake)
insertarPersona( {dni:  dni, nombre:  nombre, apellidos:  apellidos }, function( err, res ) {
  // cuando tenga el resultado lo muestro
 if ( err ) {
   alert( " hubo un error de transmisión http: " + err )
   return
 } else if ( res.error ) {
   alert( " hubo un error en la llamada: " + JSON.stringify( res.error ) )
   return
 }
  document.getElementById("salida").innerHTML = " resultado= " + res;
})

}
</script>

<!-- ---------------------------------------------------- -->
<script>
function buscarPersonaPulsado() {

var dni = document.getElementById("dni").value

// llamo a la función de la lógica (versión fake)
buscarPersonaConDNI( {dni:  dni}, function( err, res ) {
  // cuando tenga el resultado lo muestro
 if ( err ) {
   alert( " hubo un error de transmisión http: " + err )
   return
 } else if ( res.error ) {
   alert( " hubo un error en la llamada: " + JSON.stringify( res.error ) )
   return
 }
  document.getElementById("salida").innerHTML  =  "   resultado=  "  + JSON.stringify( res );
})

}
</script>

</head>

<!-- ---------------------------------------------------- -->
<!-- ---------------------------------------------------- -->
<body>

<h1>Aplicación web</h1>

<form>
  dni:<br>
  <input id="dni" type="text" name="dni" value="xxxx">
  <br>
  nombre:<br>
  <input id="nombre" type="text" name="nombre" value="aaaa">
  <br>
  apellidos:<br>
  <input id="apellidos" type="text" name="apellidos" value="bbbb">
  <br>
</form> 

<p>

<button type="buton" onclick="insertarPersonaPulsado()">Insertar Persona</button>

<p>

<button type="buton" onclick="buscarPersonaPulsado()">Buscar Persona</button>

<p>

<button type="button" onclick="llamarAPruebaPulsado()">Llamar prueba()</button>

<p id="salida">Antes</p>

</body>
</html>
<!-- ---------------------------------------------------- -->
<!-- ---------------------------------------------------- -->
<!-- ---------------------------------------------------- -->
<!-- ---------------------------------------------------- -->
